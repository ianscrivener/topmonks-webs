{%- from "macros/helpers.njk" import avatar, blogImg -%}
{%- set articlesList = articles[2020] | list -%}
{%- set latestArticle = articlesList | last -%}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blockchain by TopMonks - Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Accept-CH" content="DPR,Viewport-Width,Width">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <link rel="preconnect" href="https://res.cloudinary.com">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,700&amp;display=swap" as="stylesheet">
  <link rel="preload" href="https://www.googletagmanager.com/gtm.js?id=GTM-T4KMQ2F" as="script">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#C567B7">
  <meta name="msapplication-TileColor" content="#7645C1">
  <meta name="theme-color" content="#D5E9FF">
  <meta name="description"
        content="What can we do for you? We’ll take care of your dApp or blockchain development. You’re thinking about starting ICO? We’ve got you covered!">
  <link rel="canonical" href="https://blockchain.topmonks.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@topmonks">
  <meta name="twitter:title" property="og:title" content="We #BUIDL.">
  <meta name="twitter:image" property="og:image" content="https://blockchain.topmonks.com/og-image.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blockchain.topmonks.com/">

  <!-- Google Tag Manager -->
  <script>(function(w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        "gtm.start":
          new Date().getTime(), event: "gtm.js"
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src =
        "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-T4KMQ2F");</script>
  <!-- End Google Tag Manager -->
  <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,700&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/blog.css">

</head>

<body class="page--blog">

<!-- Google Tag Manager (noscript) -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T4KMQ2F"
          height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>

<!-- End Google Tag Manager (noscript) -->
{% include 'shared/header.html' %}
<section id="latest-article" class="">
  <div class="mdc-layout-grid layout-wrapper">
    <div class="mdc-layout-grid__inner">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
        <h2>Latest post</h2>
      </div>
      {% macro latestMediaImage(path) %}
        {% set publicId = images[path]["public_id"] %}
        <picture>
          <source media="screen and (max-width: 479px)"
                  srcset="{{ publicId | cloudinaryUrl(width=343,height=172,dpr=1)}} 1x,
                    {{ publicId | cloudinaryUrl(width=343,height=172,dpr=1.5)}} 1.5x,
                    {{ publicId | cloudinaryUrl(width=343,height=172,dpr=2)}} 2x">
          <source media="screen and (min-width: 480px) and (max-width: 839px)"
                  srcset="{{ publicId | cloudinaryUrl(width=360,height=180,dpr=1)}} 1x,
                    {{ publicId | cloudinaryUrl(width=360,height=180,dpr=1.5)}} 1.5x,
                    {{ publicId | cloudinaryUrl(width=360,height=180,dpr=2)}} 2x">
          <source media="screen and (min-width: 840px)"
                  srcset="{{ publicId | cloudinaryUrl(width=290,height=290,crop="fill",dpr=1)}} 1x,
                    {{ publicId | cloudinaryUrl(width=290,height=290,crop="fill",dpr=1.5)}} 1.5x,
                    {{ publicId | cloudinaryUrl(width=290,height=290,crop="fill",dpr=2)}} 2x">
          <img alt="" loading="lazy" class=""
               width="290" height="290"
               src="{{ publicId | cloudinaryUrl(width=290,height=290,crop="fill",dpr="auto")}}">
        </picture>
      {% endmacro %}
      <div class="blog__box mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
        <article class="mdc-layout-grid__inner">
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">
            {{ latestMediaImage(latestArticle.picture) }}
          </div>
          <div class="blog__box-body mdc-layout-grid__cell mdc-layout-grid__cell--span-8">
            <time datetime="{{ latestArticle.published }}"
                  class="published-date">{{ latestArticle.published | longDate("en") }}</time>
            <h3>{{ latestArticle.title }}</h3>
            <p>{{ latestArticle.body | safe }}</p>
            <div
              class="personal__id">
              {{ avatar(latestArticle.author, latestArticle.authorImage) }}
              <span class="name">{{ latestArticle.author }}</span>
            </div>
            <div
              class="article-link">
              <a title="Show Article" href="{{ latestArticle.link }}">Show article</a>
            </div>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>

{% macro mediaImage(path) %}
  {% set publicId = images[path]["public_id"] %}
  {{ blogImg("", publicId) }}
{% endmacro %}

{% macro mediaArticle(article, images, isArticle) %}

  <div class="blog__box mdc-layout-grid__cell">
    <article class="">
      <a href="{{ article.link }}" class="">
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
          {{ mediaImage(article.picture) }}
          <div class="blog__box-body">
            <time datetime="{{ article.published }}" class="media__date">{{ article.published | longDate("en") }}</time>
            <h3>{{ article.title }}</h3>
            <div class="personal__id">
              {{ avatar(article.author, article.authorImage) }}
              <span class="name">{{ article.author }}</span>
            </div>
            <div class="article-link">
              <a href="{{ article.link }}">{{"Show article" if isArticle else "Listen to podcast"}}</a>
            </div>
          </div>
        </div>
      </a>
    </article>
  </div>
{% endmacro %}

<section id="podcasts" class="podcasts">
  <div class="mdc-layout-grid layout-wrapper">
    <div class="mdc-layout-grid__inner">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
        <h2>Podcasts, Lightning talks &amp; Videos</h2>
      </div>
      {% for year in range(2020, 2016, -1) %}
        {% for article in podcasts[year] | sort(true, false, "published") %}
          {{ mediaArticle(article, podcastImages) }}
        {% endfor %}
      {% endfor %}
    </div>
  </div>
</section>

<section id="articles" class="articles">
  <div class="mdc-layout-grid layout-wrapper">
    <div class="mdc-layout-grid__inner">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
        <h2>Articles and Interviews</h2>
      </div>
      {% for year in range(2020, 2016, -1) %}
        {% for article in articles[year] | sort(true, false, "published") %}
          {{ mediaArticle(article, articleImages, isArticle = true) }}
        {% endfor %}
      {% endfor %}
    </div>
  </div>
</section>
</body>
{% include 'shared/footer.html' %}
</html>
